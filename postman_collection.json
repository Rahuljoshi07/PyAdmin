{
    "info": {
        "name": "REST API Backend v2.0",
        "description": "Complete API collection with authentication, CRUD, pagination, and filtering",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:5000"
        },
        {
            "key": "token",
            "value": ""
        }
    ],
    "item": [
        {
            "name": "Health & Info",
            "item": [
                {
                    "name": "API Info",
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/"
                    }
                },
                {
                    "name": "Health Check",
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/api/health"
                    }
                },
                {
                    "name": "API Stats (Auth)",
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/api/stats",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "name": "Authentication",
            "item": [
                {
                    "name": "Register User",
                    "request": {
                        "method": "POST",
                        "url": "{{base_url}}/api/auth/register",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"newuser\",\n    \"email\": \"newuser@example.com\",\n    \"password\": \"password123\"\n}"
                        }
                    }
                },
                {
                    "name": "Login",
                    "request": {
                        "method": "POST",
                        "url": "{{base_url}}/api/auth/login",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"admin\",\n    \"password\": \"admin123\"\n}"
                        }
                    }
                },
                {
                    "name": "Get Current User",
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/api/auth/me",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ]
                    }
                },
                {
                    "name": "List API Keys",
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/api/auth/api-keys",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ]
                    }
                },
                {
                    "name": "Create API Key",
                    "request": {
                        "method": "POST",
                        "url": "{{base_url}}/api/auth/api-keys",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"My API Key\",\n    \"expires_days\": 30\n}"
                        }
                    }
                },
                {
                    "name": "Delete API Key",
                    "request": {
                        "method": "DELETE",
                        "url": "{{base_url}}/api/auth/api-keys/1",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "name": "Users",
            "item": [
                {
                    "name": "Get All Users",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/api/users?page=1&per_page=10",
                            "host": ["{{base_url}}"],
                            "path": ["api", "users"],
                            "query": [
                                {"key": "page", "value": "1"},
                                {"key": "per_page", "value": "10"}
                            ]
                        },
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ]
                    }
                },
                {
                    "name": "Search Users",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/api/users?search=john&role=user",
                            "host": ["{{base_url}}"],
                            "path": ["api", "users"],
                            "query": [
                                {"key": "search", "value": "john"},
                                {"key": "role", "value": "user"}
                            ]
                        },
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ]
                    }
                },
                {
                    "name": "Get User by ID",
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/api/users/1",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ]
                    }
                },
                {
                    "name": "Create User (Admin)",
                    "request": {
                        "method": "POST",
                        "url": "{{base_url}}/api/users",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"testuser\",\n    \"email\": \"testuser@example.com\",\n    \"password\": \"password123\",\n    \"role\": \"user\"\n}"
                        }
                    }
                },
                {
                    "name": "Update User",
                    "request": {
                        "method": "PUT",
                        "url": "{{base_url}}/api/users/1",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"updated@example.com\"\n}"
                        }
                    }
                },
                {
                    "name": "Delete User (Admin)",
                    "request": {
                        "method": "DELETE",
                        "url": "{{base_url}}/api/users/2",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ]
                    }
                }
            ]
        },
        {
            "name": "Products",
            "item": [
                {
                    "name": "Get All Products",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/api/products?page=1&per_page=10",
                            "host": ["{{base_url}}"],
                            "path": ["api", "products"],
                            "query": [
                                {"key": "page", "value": "1"},
                                {"key": "per_page", "value": "10"}
                            ]
                        }
                    }
                },
                {
                    "name": "Search Products",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/api/products?search=laptop&category=Electronics",
                            "host": ["{{base_url}}"],
                            "path": ["api", "products"],
                            "query": [
                                {"key": "search", "value": "laptop"},
                                {"key": "category", "value": "Electronics"}
                            ]
                        }
                    }
                },
                {
                    "name": "Filter Products by Price",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{base_url}}/api/products?min_price=50&max_price=200&sort_by=price&sort_order=asc",
                            "host": ["{{base_url}}"],
                            "path": ["api", "products"],
                            "query": [
                                {"key": "min_price", "value": "50"},
                                {"key": "max_price", "value": "200"},
                                {"key": "sort_by", "value": "price"},
                                {"key": "sort_order", "value": "asc"}
                            ]
                        }
                    }
                },
                {
                    "name": "Get Categories",
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/api/products/categories"
                    }
                },
                {
                    "name": "Get Product by ID",
                    "request": {
                        "method": "GET",
                        "url": "{{base_url}}/api/products/1"
                    }
                },
                {
                    "name": "Create Product",
                    "request": {
                        "method": "POST",
                        "url": "{{base_url}}/api/products",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Gaming Laptop\",\n    \"description\": \"High-performance gaming laptop with RTX 4080\",\n    \"price\": 1999.99,\n    \"quantity\": 10,\n    \"category\": \"Electronics\"\n}"
                        }
                    }
                },
                {
                    "name": "Bulk Create Products (Admin)",
                    "request": {
                        "method": "POST",
                        "url": "{{base_url}}/api/products/bulk",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "[\n    {\n        \"name\": \"Product A\",\n        \"price\": 99.99,\n        \"quantity\": 50,\n        \"category\": \"Category A\"\n    },\n    {\n        \"name\": \"Product B\",\n        \"price\": 149.99,\n        \"quantity\": 30,\n        \"category\": \"Category B\"\n    }\n]"
                        }
                    }
                },
                {
                    "name": "Update Product",
                    "request": {
                        "method": "PUT",
                        "url": "{{base_url}}/api/products/1",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"price\": 1299.99,\n    \"quantity\": 5\n}"
                        }
                    }
                },
                {
                    "name": "Delete Product",
                    "request": {
                        "method": "DELETE",
                        "url": "{{base_url}}/api/products/1",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ]
                    }
                }
            ]
        }
    ]
}
